(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{63:(e,t,r)=>{"use strict";var s=r(7260);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},333:(e,t,r)=>{Promise.resolve().then(r.bind(r,5404))},5404:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(5155),l=r(5239),a=r(2115),n=r(63);function o(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)(""),[o,u]=(0,a.useState)(""),[c,i]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=localStorage.getItem("erp_user");e&&(r(e),i(!0))},[]);let h=async()=>{if(!t||!o)return void alert("아이디와 비밀번호를 입력하세요.");m(!0);try{let r=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:o})}),s=await r.json();s.ok?(c?localStorage.setItem("erp_user",t):localStorage.removeItem("erp_user"),e.replace("/")):alert(s.message||"로그인 실패")}catch(e){alert("서버와 통신할 수 없습니다.")}finally{m(!1)}},b=e=>{"Enter"===e.key&&h()};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsxs)("div",{className:"bg-white p-10 rounded-2xl shadow-lg w-[380px] text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(l.default,{src:"/logo.png",alt:"Moulab Logo",width:64,height:64,priority:!0})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-700 mb-8",children:"moulab ERP"}),(0,s.jsx)("input",{type:"text",placeholder:"아이디",value:t,onChange:e=>r(e.target.value),className:"w-full border rounded-md p-3 mb-3 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:b}),(0,s.jsx)("input",{type:"password",placeholder:"비밀번호",value:o,onChange:e=>u(e.target.value),className:"w-full border rounded-md p-3 mb-3 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:b}),(0,s.jsxs)("div",{className:"flex items-center mb-4 text-sm text-gray-600",children:[(0,s.jsx)("input",{id:"remember",type:"checkbox",checked:c,onChange:e=>i(e.target.checked),className:"mr-2"}),(0,s.jsx)("label",{htmlFor:"remember",children:"아이디 저장"})]}),(0,s.jsx)("button",{onClick:h,disabled:d,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-md transition",children:d?"로그인 중...":"로그인"})]})})}}},e=>{e.O(0,[239,441,255,358],()=>e(e.s=333)),_N_E=e.O()}]);